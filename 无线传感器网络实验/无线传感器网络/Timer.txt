#include "ioCC2530.h"
//#define GLINT 2
//static unsigned int timer=0;
#pragma vector = T1_VECTOR
  __interrupt void T1_Handle(void)
{
  
          P1_1=~P1_1;
          P2_0=~P2_0;
  
  T1STAT&=~0x02;
  T1STAT&=~0x02;
  IRCON&=~0x02;
}
void main(){
    T1CTL = 0x0d;           // f = 32MHz / 128 = 250 000Hz, T = 4us;模模式,从0~T1CC0反复计数。
    T1CCTL0 = 0x44;         // Timer1通道0中断允许,比较匹配模式,比较比配时输出置位。
    T1CC0L = 0xc4 ;    // 先写T1CC0L,再写T1CC0H,T1CNT=0时更新。
    T1CC0H = 0x55 ;    // 2500 * 4us = 10 000us = 10ms;
    TIMIF |= 0x40;      // TIMIF.T1OVFIM Timer1溢出中断允许
    IEN1 |= 0x02;       // IEN1.T1IE Timer1总中断允许
    EA = 1;                 // 打开全局总中断
    P1SEL=0;
    P1DIR=2;
    P2SEL=0;
    P2DIR=1;
    P1_1=1;
    P2_0=0;
    while(1){
       
    }
    
}